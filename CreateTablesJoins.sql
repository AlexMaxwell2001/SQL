DROP TABLE IF EXISTS PERSON CASCADE;
DROP TABLE IF EXISTS Game CASCADE;
DROP TABLE IF EXISTS Plays CASCADE;

CREATE TABLE Person
(
	PersonID INTEGER NOT NULL,
	PersonName TEXT NOT NULL,
	PersonAGE INTEGER NOT NULL,
	PersonGender TEXT NOT NULL,
	CONSTRAINT Person_PKEY PRIMARY KEY (PersonID)
);

INSERT INTO PERSON VALUES (14,'Harry', 18, 'Male');
INSERT INTO PERSON VALUES (98, 'Shauna', 23, 'Female');
INSERT INTO PERSON VALUES (8, 'Peter', 24, 'Male');
INSERT INTO PERSON VALUES (90, 'John', 30, 'Male');
INSERT INTO PERSON VALUES (213, 'Niall', 40, 'Male');
INSERT INTO PERSON VALUES (1400, 'James', 18, 'Male');

CREATE TABLE Game
(
	GameID INTEGER NOT NULL,
	GameName TEXT NOT NULL,
	GameType TEXT NOT NULL,
	GameCost INTEGER NOT NULL,
	CONSTRAINT Game_PKEY PRIMARY KEY (GameID)
);

INSERT INTO Game VALUES (1, 'Call Of Duty', 'Shooter', 90);
INSERT INTO Game VALUES (2, 'Minecraft', 'Creation', 30);
INSERT INTO Game VALUES (3, 'FIFA 20', 'Football', 60);
INSERT INTO Game VALUES (8, 'Warface', 'Shooter', 20);
INSERT INTO Game VALUES (12, 'Hitman', 'Assasin', 50);
INSERT INTO Game VALUES (9, 'Mario Kart', 'Racing',10);

CREATE TABLE Plays
(
	PersonID INTEGER NOT NULL References Person (PersonID) ON UPDATE CASCADE ON DELETE CASCADE,
	GameID INTEGER NOT NULL References Game (GameID)  ON UPDATE CASCADE ON DELETE CASCADE,
	CONSTRAINT Plays_PKEY PRIMARY KEY (PersonID,GameID)
);

INSERT INTO Plays VALUES (14,1);
INSERT INTO Plays VALUES (14,12);
INSERT INTO Plays VALUES (98,9);
INSERT INTO Plays VALUES (98,3);
INSERT INTO Plays VALUES (8,9);
INSERT INTO Plays VALUES (8,12);
INSERT INTO Plays VALUES (90,11);
INSERT INTO Plays VALUES (90,12);
INSERT INTO Plays VALUES (213,2);
INSERT INTO Plays VALUES (213,1);
INSERT INTO Plays VALUES (1400,8);
INSERT INTO Plays VALUES (1400,1);

SELECT * FROM Game as G, Person as P, Plays as PL WHERE P.PersonID = PL.PersonID and G.GameID = PL.GameID;